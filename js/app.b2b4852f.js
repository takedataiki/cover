(function(){"use strict";var e={805:function(e,t,i){var n=i(3751),s=i(641),l=i(33);const r={class:"container mt-5"},o={class:"input-group mb-5 p-5"},a={class:"list-group list-group-flush mt-5"},c=["onClick"],d=["src","alt"],u={class:"m-0"};function p(e,t,i,p,h,y){const g=(0,s.g2)("VideoPlayer");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("div",r,[(0,s.Lk)("div",o,[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>h.searchQuery=e),onKeyup:t[1]||(t[1]=(0,n.jR)(((...e)=>y.searchChannels&&y.searchChannels(...e)),["enter"])),class:"form-control",placeholder:"チャンネルを検索..."},null,544),[[n.Jo,h.searchQuery]]),(0,s.Lk)("span",{class:"input-group-text",onClick:t[2]||(t[2]=(...e)=>y.searchChannels&&y.searchChannels(...e))},t[3]||(t[3]=[(0,s.Lk)("i",{class:"bi bi-search"},null,-1)]))]),(0,s.Lk)("ul",a,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(h.channels,(e=>((0,s.uX)(),(0,s.CE)("li",{key:e.id.channelId,class:"list-group-item d-flex align-items-center p-3",onClick:t=>y.fetchChannelVideos(e.id.channelId)},[(0,s.Lk)("img",{src:e.snippet.thumbnails.high.url,alt:e.snippet.title,class:"rounded-circle me-4",style:{width:"64px",height:"64px"}},null,8,d),(0,s.Lk)("h3",u,(0,l.v_)(e.snippet.title),1)],8,c)))),128))])]),h.playlist.length>0?((0,s.uX)(),(0,s.Wv)(g,{key:h.playlistKey,playlist:h.playlist,onRemoveVideo:y.removeFromPlaylist},null,8,["playlist","onRemoveVideo"])):(0,s.Q3)("",!0)],64)}i(4114),i(1454);var h=i(4335);const y={class:"bg-white w-100 h-100 position-absolute top-0 start-0"},g={ref:"player"},f={class:"d-flex flex-column align-items-center justify-content-center"},m={class:"mt-3 d-flex align-items-center"},b=["disabled"],k={key:0,class:"bi bi-play-fill display-6 ps-1"},v={key:1,class:"bi bi-pause-fill display-6"},w=["disabled"],x={class:"list-group list-group-flush w-100 mt-5"},C=["onClick"],V=["src"],P={class:"ms-3"},L=["onClick"];function I(e,t,i,r,o,a){return(0,s.uX)(),(0,s.CE)("div",y,[(0,s.Lk)("div",g,null,512),(0,s.Lk)("div",f,[(0,s.Lk)("div",m,[(0,s.Lk)("button",{class:"rounded-circle shadow-lg border-white me-3 text-black",style:{width:"50px",height:"50px",border:"3px solid white","background-color":"transparent"},onClick:t[0]||(t[0]=(...e)=>a.previousVideo&&a.previousVideo(...e)),disabled:0===o.currentVideoIndex},t[3]||(t[3]=[(0,s.Lk)("i",{class:"bi bi-skip-backward"},null,-1)]),8,b),(0,s.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>a.togglePlay&&a.togglePlay(...e)),class:"rounded-circle shadow-lg text-black",style:{width:"75px",height:"75px",border:"3px solid white","background-color":"transparent"}},[o.isPlaying?((0,s.uX)(),(0,s.CE)("i",v)):((0,s.uX)(),(0,s.CE)("i",k))]),(0,s.Lk)("button",{class:"rounded-circle shadow-lg border-white ms-3 text-black",style:{width:"50px",height:"50px",border:"3px solid white","background-color":"transparent"},onClick:t[2]||(t[2]=(...e)=>a.nextVideo&&a.nextVideo(...e)),disabled:o.currentVideoIndex===i.playlist.length-1},t[4]||(t[4]=[(0,s.Lk)("i",{class:"bi bi-skip-forward"},null,-1)]),8,w)]),(0,s.Lk)("ul",x,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.playlist,((e,t)=>((0,s.uX)(),(0,s.CE)("li",{key:t,class:(0,l.C4)(["list-group-item p-3 d-flex align-items-center",{"bg-secondary-subtle":o.currentVideoIndex===t}]),onClick:e=>a.playVideo(t)},[(0,s.Lk)("img",{src:e.snippet.thumbnails.high.url,class:"w-25 rounded"},null,8,V),(0,s.Lk)("div",P,[(0,s.Lk)("p",null,(0,l.v_)(e.snippet.title),1)]),(0,s.Lk)("i",{class:"bi bi-trash ms-auto ps-1",onClick:(0,n.D$)((e=>a.removeList(t)),["stop"])},null,8,L)],10,C)))),128))])])])}var E={name:"VideoPlayer",props:{playlist:{type:Array,required:!0}},data(){return{player:"",isPlaying:!1,currentVideoIndex:0}},mounted(){const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";const t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),window.onYouTubeIframeAPIReady=()=>{this.initPlayer()}},methods:{initPlayer(){const e=window.innerWidth,t=Math.round(.5625*e);this.player=new window.YT.Player(this.$refs.player,{height:t.toString(),width:e.toString(),videoId:this.playlist[0].id,events:{onStateChange:this.onPlayerStateChange}})},onPlayerStateChange(e){e.data===window.YT.PlayerState.ENDED&&this.nextVideo(),this.isPlaying=e.data===window.YT.PlayerState.PLAYING},playVideo(e){e>=0&&e<this.playlist.length&&(this.currentVideoIndex=e,this.player.loadVideoById(this.playlist[e].id))},nextVideo(){this.currentVideoIndex<this.playlist.length-1&&this.playVideo(this.currentVideoIndex+1)},previousVideo(){this.currentVideoIndex>0&&this.playVideo(this.currentVideoIndex-1)},togglePlay(){this.isPlaying?this.player.pauseVideo():this.player.playVideo()},removeList(e){this.$emit("remove-video",e)}}},j=i(6262);const O=(0,j.A)(E,[["render",I]]);var S=O,K={components:{VideoPlayer:S},data(){return{searchQuery:"",channels:[],items:[],playlist:[],playlistKey:0,apiKey:"AIzaSyBnBB7bftIfpBkz8oZAjEFQje_Vkg3Bcko",searchUrl:"https://www.googleapis.com/youtube/v3/search",detailUrl:"https://www.googleapis.com/youtube/v3/videos"}},methods:{async searchChannels(){try{const e=await h.A.get(this.searchUrl,{params:{part:"snippet",q:this.searchQuery,type:"channel",maxResults:5,key:this.apiKey}});this.channels=e.data.items||[],this.searchQuery=""}catch(e){console.error("Error fetching data:",e)}},async fetchChannelVideos(e){try{const t=await h.A.get(this.searchUrl,{params:{part:"id",q:"歌ってみた",type:"video",channelId:e,maxResults:50,key:this.apiKey}}),i=t.data.items.map((e=>e.id.videoId)).join(",");console.log(i);const n=await h.A.get(this.detailUrl,{params:{part:"snippet,contentDetails",id:i,key:this.apiKey}});this.items=n.data.items||[];for(const e of this.items){const t=e.snippet.title.toLowerCase(),i=e.contentDetails.duration;(t.includes("歌ってみた")||t.includes("cover")||t.includes("歌いました"))&&i.includes("M")&&"PT1M"!==i&&this.playlist.push(e)}this.playlistKey++}catch(t){console.error("Error channel videos:",t)}},removeFromPlaylist(e){this.playlist.splice(e,1)}}};const A=(0,j.A)(K,[["render",p]]);var T=A;(0,n.Ef)(T).mount("#app")}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var l=t[n]={exports:{}};return e[n].call(l.exports,l,l.exports,i),l.exports}i.m=e,function(){var e=[];i.O=function(t,n,s,l){if(!n){var r=1/0;for(d=0;d<e.length;d++){n=e[d][0],s=e[d][1],l=e[d][2];for(var o=!0,a=0;a<n.length;a++)(!1&l||r>=l)&&Object.keys(i.O).every((function(e){return i.O[e](n[a])}))?n.splice(a--,1):(o=!1,l<r&&(r=l));if(o){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[n,s,l]}}(),function(){i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,l,r=n[0],o=n[1],a=n[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(s in o)i.o(o,s)&&(i.m[s]=o[s]);if(a)var d=a(i)}for(t&&t(n);c<r.length;c++)l=r[c],i.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return i.O(d)},n=self["webpackChunkconfirm"]=self["webpackChunkconfirm"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=i.O(void 0,[504],(function(){return i(805)}));n=i.O(n)})();
//# sourceMappingURL=app.b2b4852f.js.map